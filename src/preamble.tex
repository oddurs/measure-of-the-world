% ===== TYPOGRAPHY (Elements of Typographic Style) =====
% Paper: US Letter 8.5" x 11"
% Font: 12pt serif, yields ~65 characters per line (optimal for readability)
% Margins: Fibonacci-like ratio creates visual balance

\usepackage{geometry}
\geometry{%
  paper=letterpaper,
  inner=1.5in,
  outer=1.25in,
  top=1.25in,
  bottom=1.5in,
  headsep=0.5in,
  footskip=0.75in%
}

\usepackage{microtype}
\microtypesetup{%
  expansion=true,
  protrusion=true,
  tracking=true,
  kerning=true,
  spacing=true%
}
\SetTracking[context=proof]{encoding=*}{70}
\microtypecontext{spacing=nonfrench}

% Line height: 1.5× font size (12pt × 1.5 = 18pt leading)
\linespread{1.25}\selectfont

% Paragraph spacing
\setlength{\parindent}{16pt}
\setlength{\parskip}{0\baselineskip}

% Math
\usepackage{amsmath,amssymb,mathtools}
\usepackage{gensymb}
\usepackage{siunitx}
\sisetup{detect-all=true}

% Figures / graphics
\usepackage{graphicx}
\graphicspath{{figures/}{figures/jpg/}{figures/png/}{figures/pdf/}}

% TikZ / plots
\usepackage{tikz,pgfplots}
\pgfplotsset{compat=1.18}

% Bibliography
\usepackage[backend=biber,style=authoryear]{biblatex}

% Links / refs
\usepackage{hyperref}
\usepackage{cleveref}
\hypersetup{
  colorlinks=true,
  linkcolor=black,
  citecolor=black,
  urlcolor=black
}

% Tables and lists
\usepackage{booktabs,longtable,enumitem}

% Glossary
\usepackage{glossaries}

% Epigraphs and decorative elements
\usepackage{epigraph}
\setlength{\epigraphwidth}{0.6\textwidth}
\setlength{\epigraphrule}{0pt}
\setlength{\beforeepigraphskip}{1.5\baselineskip}
\setlength{\afterepigraphskip}{1.5\baselineskip}

% Memoir configuration
\setsecnumdepth{subsection}
\settocdepth{subsection}

% Disable all paragraph break decorations
\renewcommand{\pfbreakdisplay}{}

% ===== HEADING HIERARCHY (Typographic Scale 1.2×) =====
% Chapter (18pt), Section (14.4pt), Subsection (13pt), Body (12pt)

% Chapter: 16-18pt small caps, strong visual presence
\renewcommand{\chapnamefont}{\normalfont\scshape\fontsize{16}{19}\selectfont}
\renewcommand{\chapnumfont}{\normalfont\scshape\fontsize{16}{19}\selectfont}
\renewcommand{\chaptitlefont}{\normalfont\scshape\fontsize{18}{21.6}\selectfont}
\setlength{\beforechapskip}{4\baselineskip}
\setlength{\afterchapskip}{1.5\baselineskip}
\setlength{\midchapskip}{6pt}

% Section: 14pt small caps, secondary hierarchy
\setsecheadstyle{\normalfont\scshape\fontsize{14}{16.8}\selectfont}
\setbeforesecskip{1.25\baselineskip}
\setaftersecskip{0.75\baselineskip}

% Subsection: 12pt italic, tertiary hierarchy
\setsubsecheadstyle{\normalfont\itshape\fontsize{12}{14.4}\selectfont}
\setbeforesubsecskip{1.1\baselineskip}
\setaftersubsecskip{0.6\baselineskip}

% Subsubsection: 12pt italic, minimal emphasis
\setsubsubsecheadstyle{\normalfont\itshape\fontsize{12}{14.4}\selectfont}

% ===== PAGE STYLES (Headers, Footers, Page Numbers) =====
% Configure memoir page styles using typography variables

% Define page styles for main matter
\makepagestyle{mainmatter}
% Header: no headers, no header rule
\makeheadrule{mainmatter}{\textwidth}{0pt}
\makeoddhead{mainmatter}{}{}{}
\makeevenhead{mainmatter}{}{}{}
% Footer setup: page numbers in outer corners (bottom right for recto, bottom left for verso)
\makeoddfoot{mainmatter}{}{}{\footerpagenumber{\thepage}}
\makeevenfoot{mainmatter}{\footerpagenumber{\thepage}}{}{}

% Configure chapter marks for headers (not used, but kept for reference)
\createmark{chapter}{left}{shownumber}{}{. \ }
\createmark{section}{right}{shownumber}{}{. \ }

% Set default page style
\pagestyle{mainmatter}

% Title page and front matter style (no headers, centered page numbers)
\makepagestyle{frontmatter}
\makeheadrule{frontmatter}{\textwidth}{0pt}
\makeoddhead{frontmatter}{}{}{}
\makeevenhead{frontmatter}{}{}{}
\makeoddfoot{frontmatter}{}{\footerpagenumber{\thepage}}{}
\makeevenfoot{frontmatter}{}{\footerpagenumber{\thepage}}{}

% ===== LISTS AND ENUMERATED ELEMENTS =====
% Proper spacing for lists following typographic hierarchy
\setlist[itemize]{%
  topsep=0.75\baselineskip,
  itemsep=0.5\baselineskip,
  parsep=0pt%
}
\setlist[enumerate]{%
  topsep=0.75\baselineskip,
  itemsep=0.5\baselineskip,
  parsep=0pt%
}

% ===== TABLE TYPOGRAPHY =====
% Tables should be compact but readable

% Table typography variables
% Row height multiplier: use with \arraystretch (1.0 = normal, 1.3 = 30% taller, etc)
\newlength{\tablerowheightlength}
\setlength{\tablerowheightlength}{1.25\baselineskip}

% Body text size for table content
\newcommand{\tabletextsize}{\small}

% Column padding (left/right) - applied via @{}
\newcommand{\tablecolumnpadding}{0.5em}

% Top/bottom rule thickness (booktabs rules)
\newcommand{\tabletopruletrim}{0.08em}
\newcommand{\tablebottomruletrim}{0.08em}

% Mid-table rule thickness (lighter than top/bottom)
\newcommand{\tablemidruletrim}{0.05em}

% Spacing before table (relative to baseline)
\newcommand{\tablebeforeskip}{0.75\baselineskip}

% Spacing after table (relative to baseline)
\newcommand{\tableafterskip}{0\baselineskip}

% Caption to table spacing
\newcommand{\tablecaptionspacing}{0.5\baselineskip}

% Apply table typography variables to booktabs
% Heavy rule (top/bottom of table)
\setlength{\heavyrulewidth}{\tabletopruletrim}

% Light rule (midrule, cmidrule)
\setlength{\lightrulewidth}{\tablemidruletrim}
\setlength{\cmidrulewidth}{\tablemidruletrim}

% Array stretch: controls row height in tabular/array environments
% Set to 1.3 for 30% more row height
\renewcommand{\arraystretch}{1.3}

% Longtable spacing (before and after table environment)
\setlength{\LTpre}{\tablebeforeskip}
\setlength{\LTpost}{\tableafterskip}

% Create a styled table environment macro
\newenvironment{styledtable}[1][htbp]{%
  \setlength{\parskip}{\tablecaptionspacing}%
  \begin{table}[#1]%
  \centering%
  \tabletextsize%
  \renewcommand{\arraystretch}{1.3}%
}{%
  \end{table}%
}

% ===== PAGE HEADER AND FOOTER TYPOGRAPHY =====
% Header text styling and spacing
\newcommand{\headerfont}{\normalfont\itshape\fontsize{11}{13.2}\selectfont}
\newcommand{\footerfont}{\normalfont\fontsize{10}{12}\selectfont}

% Page number styling
\newcommand{\pagenumberfont}{\normalfont\fontsize{11}{13.2}\selectfont}
\newcommand{\pagenumberformat}{\pagenumberfont}

% Header margins and spacing
\newcommand{\headerindent}{0.25in}
\newcommand{\headermargin}{0.1875in}

% Footer margins and spacing
\newcommand{\footerindent}{0.25in}
\newcommand{\footermargin}{0.1875in}

% Separator rules in headers/footers
\newcommand{\headerrulethickness}{0.5pt}
\newcommand{\footerrulethickness}{0.5pt}

% Running head content sizing
\newcommand{\runningheadskip}{0.5\baselineskip}

% Define running header styling for left (verso) and right (recto) pages
\newcommand{\versoheader}[1]{\headerfont #1}
\newcommand{\rectoheader}[1]{\headerfont #1}
\newcommand{\footerpagenumber}[1]{\pagenumberformat #1}

% ===== MARGIN NOTE TYPOGRAPHY =====
% For sidenotes and margin annotations
\newcommand{\marginnotesize}{\fontsize{9}{11}\selectfont}
\newcommand{\marginnotewidth}{1.25in}
\newcommand{\marginnotesep}{0.25in}

% \pretocmd{\@latex@warning}{\GenericError{}{LaTeX Warning promoted to error}{}{}}{}{}
% \makeatother
